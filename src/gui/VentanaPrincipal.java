package gui;

import formula.*;
import java.awt.Color;
import java.awt.event.FocusEvent;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.text.DecimalFormat;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JSlider;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author HOME3
 */
public class VentanaPrincipal extends javax.swing.JFrame {

    /**
     * Creates new form VentanaPrincipal
     */
    public VentanaPrincipal() {
        try {
            cargarDatos();            
        } catch (ClassNotFoundException ex) {
            Logger.getLogger(VentanaPrincipal.class.getName()).log(Level.SEVERE, null, ex);
        }
        initComponents();
        asignarEventosEnVentana();
        this.jPanelAdministrador.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanelPrincipal = new javax.swing.JPanel();
        jBtAccesoAdministrador = new javax.swing.JButton();
        jPanelAdministrador = new javax.swing.JPanel();
        jBtAdminVolver = new javax.swing.JButton();
        jTbAdministrador = new javax.swing.JTabbedPane();
        jPanelAdminPilotos = new javax.swing.JPanel();
        jBtShowCrearPiloto = new javax.swing.JButton();
        jPanelCrearPiloto = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jTxtFieldPilotoNombre = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        jTxtFieldPilotoApellidos = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jTxtFieldPilotoEdad = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jTxtFieldPilotoAltura = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jTxtFieldPilotoPeso = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jBtCaracteristicasPilotoAleatorias = new javax.swing.JButton();
        jBtCrearPiloto = new javax.swing.JButton();
        jSlReflejos = new javax.swing.JSlider();
        jLblReflejos = new javax.swing.JLabel();
        jSlAgresividad = new javax.swing.JSlider();
        jSlPaciencia = new javax.swing.JSlider();
        jSlValentia = new javax.swing.JSlider();
        jLblAgresividad = new javax.swing.JLabel();
        jLblPaciencia = new javax.swing.JLabel();
        jLblValentia = new javax.swing.JLabel();
        jBtAdministradorVerPilotos = new javax.swing.JButton();
        jPanelAdministradorVerPilotos = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTbAdminVerPilotos = new javax.swing.JTable();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        jPanelGestionCircuitos = new javax.swing.JPanel();
        jBtShowCrearCircuito = new javax.swing.JButton();
        jPanelCrearCircuito = new javax.swing.JPanel();
        jLabelCircuitoNombre = new javax.swing.JLabel();
        jTxtFieldCircuitoNombre = new javax.swing.JTextField();
        jLabelCircuitoAforo = new javax.swing.JLabel();
        jTxtFieldCircuitoAforo = new javax.swing.JTextField();
        jLabelCircuitoCanon = new javax.swing.JLabel();
        jTxtFieldCircuitoCanon = new javax.swing.JTextField();
        jLabelCircuitoRectas = new javax.swing.JLabel();
        jTxtFieldCircuitoRectas = new javax.swing.JTextField();
        jLabelCircuitoCurvas = new javax.swing.JLabel();
        jTxtFieldCircuitoCurvas = new javax.swing.JTextField();
        jBTramosAleatorios = new javax.swing.JButton();
        jBtCrearCircuito = new javax.swing.JButton();
        jLabelCircuitoNumRectas = new javax.swing.JLabel();
        jTxtFieldCircuitoNumRectas = new javax.swing.JTextField();
        jLabelCircuitoNumCurvas = new javax.swing.JLabel();
        jTxtFieldCircuitoNumCurvas = new javax.swing.JTextField();
        filler1 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 10), new java.awt.Dimension(0, 10), new java.awt.Dimension(32767, 10));
        jBtAdministradorVerCircuitos = new javax.swing.JButton();
        jPanelAdministradorVerCircuitos = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTbAdminVerCircuitos = new javax.swing.JTable();
        jButton3 = new javax.swing.JButton();
        jButton4 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanelPrincipal.setPreferredSize(new java.awt.Dimension(444, 389));

        jBtAccesoAdministrador.setText("Acceso Administrador");
        jBtAccesoAdministrador.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtAccesoAdministradorActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelPrincipalLayout = new javax.swing.GroupLayout(jPanelPrincipal);
        jPanelPrincipal.setLayout(jPanelPrincipalLayout);
        jPanelPrincipalLayout.setHorizontalGroup(
            jPanelPrincipalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelPrincipalLayout.createSequentialGroup()
                .addGap(145, 145, 145)
                .addComponent(jBtAccesoAdministrador)
                .addContainerGap(643, Short.MAX_VALUE))
        );
        jPanelPrincipalLayout.setVerticalGroup(
            jPanelPrincipalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelPrincipalLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jBtAccesoAdministrador)
                .addContainerGap(413, Short.MAX_VALUE))
        );

        jBtAdminVolver.setText("Volver");
        jBtAdminVolver.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtAdminVolverActionPerformed(evt);
            }
        });

        jPanelAdminPilotos.setPreferredSize(new java.awt.Dimension(329, 253));

        jBtShowCrearPiloto.setText("Crear");
        jBtShowCrearPiloto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtShowCrearPilotoActionPerformed(evt);
            }
        });

        jLabel1.setText("Nombre");

        jTxtFieldPilotoNombre.setInputVerifier(new NotEmptyVerifier());
        jTxtFieldPilotoNombre.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldPilotoNombreFocusLost(evt);
            }
        });
        jTxtFieldPilotoNombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTxtFieldPilotoNombreActionPerformed(evt);
            }
        });

        jLabel2.setText("Apellidos");

        jTxtFieldPilotoApellidos.setInputVerifier(new NotEmptyVerifier());
        jTxtFieldPilotoApellidos.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldPilotoApellidosFocusLost(evt);
            }
        });

        jLabel3.setText("Edad");

        jTxtFieldPilotoEdad.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldPilotoEdad.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldPilotoEdadFocusLost(evt);
            }
        });

        jLabel5.setText("Altura");

        jTxtFieldPilotoAltura.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldPilotoAltura.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldPilotoAlturaFocusLost(evt);
            }
        });

        jLabel6.setText("Peso");

        jTxtFieldPilotoPeso.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldPilotoPeso.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldPilotoPesoFocusLost(evt);
            }
        });

        jLabel7.setText("Reflejos");

        jLabel9.setText("Agresividad");

        jLabel10.setText("Paciencia");

        jLabel12.setText("Valent√≠a");

        jBtCaracteristicasPilotoAleatorias.setText("Generar Aleatorio");
        jBtCaracteristicasPilotoAleatorias.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtCaracteristicasPilotoAleatoriasActionPerformed(evt);
            }
        });

        jBtCrearPiloto.setText("Guardar");
        jBtCrearPiloto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtCrearPilotoActionPerformed(evt);
            }
        });

        jSlReflejos.setMaximum(500);
        jSlReflejos.setValue(0);
        jSlReflejos.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSlReflejosStateChanged(evt);
            }
        });

        jLblReflejos.setText("0.0");

        jSlAgresividad.setMaximum(500);
        jSlAgresividad.setValue(0);
        jSlAgresividad.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSlAgresividadStateChanged(evt);
            }
        });

        jSlPaciencia.setMaximum(500);
        jSlPaciencia.setValue(0);
        jSlPaciencia.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSlPacienciaStateChanged(evt);
            }
        });

        jSlValentia.setMaximum(500);
        jSlValentia.setValue(0);
        jSlValentia.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSlValentiaStateChanged(evt);
            }
        });

        jLblAgresividad.setText("0.0");

        jLblPaciencia.setText("0.0");

        jLblValentia.setText("0.0");

        javax.swing.GroupLayout jPanelCrearPilotoLayout = new javax.swing.GroupLayout(jPanelCrearPiloto);
        jPanelCrearPiloto.setLayout(jPanelCrearPilotoLayout);
        jPanelCrearPilotoLayout.setHorizontalGroup(
            jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                .addGap(56, 56, 56)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel1, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel12, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel9, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jTxtFieldPilotoApellidos, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTxtFieldPilotoEdad, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTxtFieldPilotoAltura, javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanelCrearPilotoLayout.createSequentialGroup()
                        .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jBtCrearPiloto)
                            .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(jSlPaciencia, javax.swing.GroupLayout.DEFAULT_SIZE, 141, Short.MAX_VALUE)
                                    .addComponent(jSlReflejos, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                                    .addComponent(jSlAgresividad, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                                    .addComponent(jSlValentia, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLblReflejos, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLblAgresividad, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLblPaciencia, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLblValentia, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jBtCaracteristicasPilotoAleatorias)))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jTxtFieldPilotoPeso, javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jTxtFieldPilotoNombre))
                .addContainerGap())
        );
        jPanelCrearPilotoLayout.setVerticalGroup(
            jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(jTxtFieldPilotoNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(jTxtFieldPilotoApellidos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(jTxtFieldPilotoEdad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5)
                    .addComponent(jTxtFieldPilotoAltura, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6)
                    .addComponent(jTxtFieldPilotoPeso, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(3, 3, 3)
                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                        .addComponent(jBtCaracteristicasPilotoAleatorias, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jBtCrearPiloto)
                        .addContainerGap())
                    .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                        .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                                        .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addComponent(jSlReflejos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel7)
                                            .addComponent(jLblReflejos, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jSlAgresividad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLblAgresividad, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                    .addComponent(jLabel9))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                                        .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jSlPaciencia, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(jLabel10, javax.swing.GroupLayout.Alignment.TRAILING))
                                        .addGap(18, 18, 18)
                                        .addComponent(jLabel12))
                                    .addComponent(jLblPaciencia, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanelCrearPilotoLayout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addGroup(jPanelCrearPilotoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLblValentia, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jSlValentia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(39, 39, 39))))
        );

        jBtAdministradorVerPilotos.setText("Ver");
        jBtAdministradorVerPilotos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtAdministradorVerPilotosActionPerformed(evt);
            }
        });

        jTbAdminVerPilotos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Nombre Completo", "Valoraci√≥n"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Double.class
            };
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTbAdminVerPilotos.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jScrollPane1.setViewportView(jTbAdminVerPilotos);

        jButton1.setText("Eliminar");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setText("Editar");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelAdministradorVerPilotosLayout = new javax.swing.GroupLayout(jPanelAdministradorVerPilotos);
        jPanelAdministradorVerPilotos.setLayout(jPanelAdministradorVerPilotosLayout);
        jPanelAdministradorVerPilotosLayout.setHorizontalGroup(
            jPanelAdministradorVerPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdministradorVerPilotosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelAdministradorVerPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                    .addGroup(jPanelAdministradorVerPilotosLayout.createSequentialGroup()
                        .addGap(0, 193, Short.MAX_VALUE)
                        .addComponent(jButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton1))))
        );
        jPanelAdministradorVerPilotosLayout.setVerticalGroup(
            jPanelAdministradorVerPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdministradorVerPilotosLayout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 307, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelAdministradorVerPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton1)
                    .addComponent(jButton2))
                .addGap(0, 0, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanelAdminPilotosLayout = new javax.swing.GroupLayout(jPanelAdminPilotos);
        jPanelAdminPilotos.setLayout(jPanelAdminPilotosLayout);
        jPanelAdminPilotosLayout.setHorizontalGroup(
            jPanelAdminPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdminPilotosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelAdminPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jBtShowCrearPiloto, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 71, Short.MAX_VALUE)
                    .addComponent(jBtAdministradorVerPilotos, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanelCrearPiloto, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(jPanelAdminPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanelAdminPilotosLayout.createSequentialGroup()
                    .addGap(83, 83, 83)
                    .addComponent(jPanelAdministradorVerPilotos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(109, Short.MAX_VALUE)))
        );
        jPanelAdminPilotosLayout.setVerticalGroup(
            jPanelAdminPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdminPilotosLayout.createSequentialGroup()
                .addGap(57, 57, 57)
                .addComponent(jBtAdministradorVerPilotos)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jBtShowCrearPiloto)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanelAdminPilotosLayout.createSequentialGroup()
                .addComponent(jPanelCrearPiloto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 62, Short.MAX_VALUE))
            .addGroup(jPanelAdminPilotosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanelAdminPilotosLayout.createSequentialGroup()
                    .addGap(5, 5, 5)
                    .addComponent(jPanelAdministradorVerPilotos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGap(6, 6, 6)))
        );

        jTbAdministrador.addTab("Pilotos", jPanelAdminPilotos);

        jPanelGestionCircuitos.setPreferredSize(new java.awt.Dimension(329, 253));

        jBtShowCrearCircuito.setText("Crear");
        jBtShowCrearCircuito.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtShowCrearCircuitoActionPerformed(evt);
            }
        });

        jPanelCrearCircuito.addInputMethodListener(new java.awt.event.InputMethodListener() {
            public void caretPositionChanged(java.awt.event.InputMethodEvent evt) {
            }
            public void inputMethodTextChanged(java.awt.event.InputMethodEvent evt) {
                jPanelCrearCircuitoInputMethodTextChanged(evt);
            }
        });

        jLabelCircuitoNombre.setText("Nombre");

        jTxtFieldCircuitoNombre.setInputVerifier(new NotEmptyVerifier());
        jTxtFieldCircuitoNombre.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoNombreFocusLost(evt);
            }
        });
        jTxtFieldCircuitoNombre.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTxtFieldCircuitoNombreActionPerformed(evt);
            }
        });

        jLabelCircuitoAforo.setText("Aforo");

        jTxtFieldCircuitoAforo.setInputVerifier(new NotEmptyVerifier());
        jTxtFieldCircuitoAforo.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoAforoFocusLost(evt);
            }
        });

        jLabelCircuitoCanon.setText("Canon");

        jTxtFieldCircuitoCanon.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldCircuitoCanon.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoCanonFocusLost(evt);
            }
        });

        jLabelCircuitoRectas.setText("Distancia Rectas");

        jTxtFieldCircuitoRectas.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldCircuitoRectas.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoRectasFocusLost(evt);
            }
        });

        jLabelCircuitoCurvas.setText("Distancia Curvas");

        jTxtFieldCircuitoCurvas.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldCircuitoCurvas.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoCurvasFocusLost(evt);
            }
        });

        jBTramosAleatorios.setText("Generar Aleatorio");
        jBTramosAleatorios.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBTramosAleatoriosActionPerformed(evt);
            }
        });

        jBtCrearCircuito.setText("Guardar");
        jBtCrearCircuito.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtCrearCircuitoActionPerformed(evt);
            }
        });

        jLabelCircuitoNumRectas.setText("N√∫mero de Rectas");

        jTxtFieldCircuitoNumRectas.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldCircuitoNumRectas.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoNumRectasFocusLost(evt);
            }
        });

        jLabelCircuitoNumCurvas.setText("N√∫mero de Curvas");

        jTxtFieldCircuitoNumCurvas.setInputVerifier(new IsIntegerVerifier());
        jTxtFieldCircuitoNumCurvas.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                jTxtFieldCircuitoNumCurvasFocusLost(evt);
            }
        });

        javax.swing.GroupLayout jPanelCrearCircuitoLayout = new javax.swing.GroupLayout(jPanelCrearCircuito);
        jPanelCrearCircuito.setLayout(jPanelCrearCircuitoLayout);
        jPanelCrearCircuitoLayout.setHorizontalGroup(
            jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                        .addGap(76, 76, 76)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                                .addComponent(jLabelCircuitoNombre)
                                .addGap(1, 1, 1))
                            .addComponent(jLabelCircuitoCanon, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabelCircuitoAforo, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jTxtFieldCircuitoNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 141, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(jTxtFieldCircuitoAforo, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jTxtFieldCircuitoCanon, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 111, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                        .addGap(28, 28, 28)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jBtCrearCircuito)
                            .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                                    .addComponent(jLabelCircuitoNumCurvas)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jTxtFieldCircuitoNumCurvas, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                                    .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addComponent(jLabelCircuitoNumRectas)
                                        .addComponent(jLabelCircuitoRectas)
                                        .addComponent(jLabelCircuitoCurvas))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jTxtFieldCircuitoRectas, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jTxtFieldCircuitoNumRectas, javax.swing.GroupLayout.PREFERRED_SIZE, 36, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(jTxtFieldCircuitoCurvas, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGap(46, 46, 46)
                                    .addComponent(jBTramosAleatorios))))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelCrearCircuitoLayout.createSequentialGroup()
                    .addContainerGap(232, Short.MAX_VALUE)
                    .addComponent(filler1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(233, Short.MAX_VALUE)))
        );
        jPanelCrearCircuitoLayout.setVerticalGroup(
            jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelCircuitoNombre)
                            .addComponent(jTxtFieldCircuitoNombre, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelCircuitoAforo)
                            .addComponent(jTxtFieldCircuitoAforo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelCircuitoCanon)
                            .addComponent(jTxtFieldCircuitoCanon, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(40, 40, 40)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelCircuitoRectas)
                            .addComponent(jTxtFieldCircuitoRectas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabelCircuitoNumRectas)
                            .addComponent(jTxtFieldCircuitoNumRectas)))
                    .addGroup(jPanelCrearCircuitoLayout.createSequentialGroup()
                        .addGap(145, 145, 145)
                        .addComponent(jBTramosAleatorios, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTxtFieldCircuitoCurvas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelCircuitoCurvas))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTxtFieldCircuitoNumCurvas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelCircuitoNumCurvas))
                .addGap(39, 39, 39)
                .addComponent(jBtCrearCircuito)
                .addGap(58, 58, 58))
            .addGroup(jPanelCrearCircuitoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelCrearCircuitoLayout.createSequentialGroup()
                    .addContainerGap(30, Short.MAX_VALUE)
                    .addComponent(filler1, javax.swing.GroupLayout.PREFERRED_SIZE, 73, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(245, Short.MAX_VALUE)))
        );

        jTxtFieldCircuitoNombre.getAccessibleContext().setAccessibleDescription("");
        jTxtFieldCircuitoNombre.getAccessibleContext().setAccessibleParent(jPanelGestionCircuitos);

        jBtAdministradorVerCircuitos.setText("Ver");
        jBtAdministradorVerCircuitos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jBtAdministradorVerCircuitosActionPerformed(evt);
            }
        });

        jTbAdminVerCircuitos.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Nombre Completo", "Valoraci√≥n"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.String.class, java.lang.Double.class
            };
            boolean[] canEdit = new boolean [] {
                false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane2.setViewportView(jTbAdminVerCircuitos);

        jButton3.setText("Eliminar");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });

        jButton4.setText("Editar");
        jButton4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton4ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelAdministradorVerCircuitosLayout = new javax.swing.GroupLayout(jPanelAdministradorVerCircuitos);
        jPanelAdministradorVerCircuitos.setLayout(jPanelAdministradorVerCircuitosLayout);
        jPanelAdministradorVerCircuitosLayout.setHorizontalGroup(
            jPanelAdministradorVerCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdministradorVerCircuitosLayout.createSequentialGroup()
                .addContainerGap(63, Short.MAX_VALUE)
                .addGroup(jPanelAdministradorVerCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelAdministradorVerCircuitosLayout.createSequentialGroup()
                        .addComponent(jButton4)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jButton3))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 276, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );
        jPanelAdministradorVerCircuitosLayout.setVerticalGroup(
            jPanelAdministradorVerCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelAdministradorVerCircuitosLayout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 307, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanelAdministradorVerCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton3)
                    .addComponent(jButton4))
                .addGap(0, 0, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanelGestionCircuitosLayout = new javax.swing.GroupLayout(jPanelGestionCircuitos);
        jPanelGestionCircuitos.setLayout(jPanelGestionCircuitosLayout);
        jPanelGestionCircuitosLayout.setHorizontalGroup(
            jPanelGestionCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelGestionCircuitosLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelGestionCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jBtShowCrearCircuito, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 71, Short.MAX_VALUE)
                    .addComponent(jBtAdministradorVerCircuitos, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanelCrearCircuito, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(jPanelGestionCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanelGestionCircuitosLayout.createSequentialGroup()
                    .addGap(83, 83, 83)
                    .addComponent(jPanelAdministradorVerCircuitos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(109, Short.MAX_VALUE)))
        );
        jPanelGestionCircuitosLayout.setVerticalGroup(
            jPanelGestionCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelGestionCircuitosLayout.createSequentialGroup()
                .addGap(57, 57, 57)
                .addComponent(jBtAdministradorVerCircuitos)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jBtShowCrearCircuito)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelGestionCircuitosLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jPanelCrearCircuito, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(501, 501, 501))
            .addGroup(jPanelGestionCircuitosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanelGestionCircuitosLayout.createSequentialGroup()
                    .addGap(5, 5, 5)
                    .addComponent(jPanelAdministradorVerCircuitos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGap(6, 6, 6)))
        );

        jTbAdministrador.addTab("Circuitos", jPanelGestionCircuitos);

        javax.swing.GroupLayout jPanelAdministradorLayout = new javax.swing.GroupLayout(jPanelAdministrador);
        jPanelAdministrador.setLayout(jPanelAdministradorLayout);
        jPanelAdministradorLayout.setHorizontalGroup(
            jPanelAdministradorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelAdministradorLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jBtAdminVolver)
                .addContainerGap())
            .addComponent(jTbAdministrador, javax.swing.GroupLayout.DEFAULT_SIZE, 536, Short.MAX_VALUE)
        );
        jPanelAdministradorLayout.setVerticalGroup(
            jPanelAdministradorLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanelAdministradorLayout.createSequentialGroup()
                .addComponent(jTbAdministrador, javax.swing.GroupLayout.PREFERRED_SIZE, 380, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jBtAdminVolver)
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelPrincipal, javax.swing.GroupLayout.DEFAULT_SIZE, 923, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanelAdministrador, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelPrincipal, javax.swing.GroupLayout.DEFAULT_SIZE, 447, Short.MAX_VALUE)
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanelAdministrador, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jBtAdminVolverActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtAdminVolverActionPerformed
        this.jPanelPrincipal.setVisible(true);
        this.jPanelAdministrador.setVisible(false);
    }//GEN-LAST:event_jBtAdminVolverActionPerformed

    private void jBtAccesoAdministradorActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtAccesoAdministradorActionPerformed
        this.jPanelPrincipal.setVisible(false);
        this.jPanelAdministrador.setVisible(true);
        this.jPanelCrearPiloto.setVisible(false);
        this.jPanelAdministradorVerPilotos.setVisible(true);
        cargarPilotosLibresEnTabla(this.jTbAdminVerPilotos);
        cargarCircuitosEnTabla(this.jTbAdminVerCircuitos);
    }//GEN-LAST:event_jBtAccesoAdministradorActionPerformed

    private void jBtCaracteristicasPilotoAleatoriasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtCaracteristicasPilotoAleatoriasActionPerformed
        colocarCaracteristicasAleatoriasParaPiloto();
    }//GEN-LAST:event_jBtCaracteristicasPilotoAleatoriasActionPerformed

    private void jBtCrearPilotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtCrearPilotoActionPerformed
        crearPilotoLibre();        
    }//GEN-LAST:event_jBtCrearPilotoActionPerformed

    private void jBtShowCrearPilotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtShowCrearPilotoActionPerformed
        mostarPanelEditarPiloto();
    }//GEN-LAST:event_jBtShowCrearPilotoActionPerformed

    private void jBtAdministradorVerPilotosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtAdministradorVerPilotosActionPerformed
        cargarPilotosLibresEnTabla(this.jTbAdminVerPilotos);
        this.jPanelCrearPiloto.setVisible(false);
        this.jPanelAdministradorVerPilotos.setVisible(true);        
    }//GEN-LAST:event_jBtAdministradorVerPilotosActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        JTable tabla = this.jTbAdminVerPilotos;
        DefaultTableModel modelo = (DefaultTableModel) tabla.getModel();
        int filaSeleccionada = tabla.getSelectedRow();
        if (filaSeleccionada != -1) {          
            modelo.removeRow(filaSeleccionada);
            pilotosLibres.remove(filaSeleccionada);
        }
        
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        int filaSeleccionada = this.jTbAdminVerPilotos.getSelectedRow();
        if (filaSeleccionada != -1) {
            PilotoLibre piloto = pilotosLibres.get(filaSeleccionada);
            pilotosLibres.remove(filaSeleccionada);
            editarPiloto(piloto);
        }
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jSlReflejosStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSlReflejosStateChanged
        ponerValorEnEtiquetaSlider(this.jSlReflejos, this.jLblReflejos);
    }//GEN-LAST:event_jSlReflejosStateChanged

    private void jSlAgresividadStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSlAgresividadStateChanged
        ponerValorEnEtiquetaSlider(this.jSlAgresividad, this.jLblAgresividad);
    }//GEN-LAST:event_jSlAgresividadStateChanged

    private void jSlPacienciaStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSlPacienciaStateChanged
        ponerValorEnEtiquetaSlider(this.jSlPaciencia, this.jLblPaciencia);
    }//GEN-LAST:event_jSlPacienciaStateChanged

    private void jSlValentiaStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSlValentiaStateChanged
        ponerValorEnEtiquetaSlider(this.jSlValentia, this.jLblValentia);
    }//GEN-LAST:event_jSlValentiaStateChanged

    private void jTxtFieldPilotoNombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoNombreActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldPilotoNombreActionPerformed

    private void jTxtFieldPilotoNombreFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoNombreFocusLost
        marcarComoValido(evt);
    }//GEN-LAST:event_jTxtFieldPilotoNombreFocusLost

    private void jTxtFieldPilotoApellidosFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoApellidosFocusLost
        marcarComoValido(evt);
    }//GEN-LAST:event_jTxtFieldPilotoApellidosFocusLost

    private void jTxtFieldPilotoEdadFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoEdadFocusLost
        marcarComoValido(evt);
    }//GEN-LAST:event_jTxtFieldPilotoEdadFocusLost

    private void jTxtFieldPilotoAlturaFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoAlturaFocusLost
        marcarComoValido(evt);
    }//GEN-LAST:event_jTxtFieldPilotoAlturaFocusLost

    private void jTxtFieldPilotoPesoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldPilotoPesoFocusLost
        marcarComoValido(evt);
    }//GEN-LAST:event_jTxtFieldPilotoPesoFocusLost

    private void jBtShowCrearCircuitoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtShowCrearCircuitoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jBtShowCrearCircuitoActionPerformed

    private void jTxtFieldCircuitoNombreFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoNombreFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoNombreFocusLost

    private void jTxtFieldCircuitoNombreActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoNombreActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoNombreActionPerformed

    private void jTxtFieldCircuitoAforoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoAforoFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoAforoFocusLost

    private void jTxtFieldCircuitoCanonFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoCanonFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoCanonFocusLost

    private void jTxtFieldCircuitoRectasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoRectasFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoRectasFocusLost

    private void jTxtFieldCircuitoCurvasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoCurvasFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoCurvasFocusLost

    private void jBTramosAleatoriosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBTramosAleatoriosActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jBTramosAleatoriosActionPerformed

    private void jBtCrearCircuitoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtCrearCircuitoActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jBtCrearCircuitoActionPerformed

    private void jBtAdministradorVerCircuitosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jBtAdministradorVerCircuitosActionPerformed
        cargarCircuitosEnTabla(this.jTbAdminVerCircuitos);
        this.jPanelCrearCircuito.setVisible(false);
        this.jPanelAdministradorVerCircuitos.setVisible(true);    // TODO add your handling code here:
    }//GEN-LAST:event_jBtAdministradorVerCircuitosActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton3ActionPerformed

    private void jButton4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton4ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jButton4ActionPerformed

    private void jPanelCrearCircuitoInputMethodTextChanged(java.awt.event.InputMethodEvent evt) {//GEN-FIRST:event_jPanelCrearCircuitoInputMethodTextChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_jPanelCrearCircuitoInputMethodTextChanged

    private void jTxtFieldCircuitoNumRectasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoNumRectasFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoNumRectasFocusLost

    private void jTxtFieldCircuitoNumCurvasFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_jTxtFieldCircuitoNumCurvasFocusLost
        // TODO add your handling code here:
    }//GEN-LAST:event_jTxtFieldCircuitoNumCurvasFocusLost

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(VentanaPrincipal.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new VentanaPrincipal().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.Box.Filler filler1;
    private javax.swing.JButton jBTramosAleatorios;
    private javax.swing.JButton jBtAccesoAdministrador;
    private javax.swing.JButton jBtAdminVolver;
    private javax.swing.JButton jBtAdministradorVerCircuitos;
    private javax.swing.JButton jBtAdministradorVerPilotos;
    private javax.swing.JButton jBtCaracteristicasPilotoAleatorias;
    private javax.swing.JButton jBtCrearCircuito;
    private javax.swing.JButton jBtCrearPiloto;
    private javax.swing.JButton jBtShowCrearCircuito;
    private javax.swing.JButton jBtShowCrearPiloto;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelCircuitoAforo;
    private javax.swing.JLabel jLabelCircuitoCanon;
    private javax.swing.JLabel jLabelCircuitoCurvas;
    private javax.swing.JLabel jLabelCircuitoNombre;
    private javax.swing.JLabel jLabelCircuitoNumCurvas;
    private javax.swing.JLabel jLabelCircuitoNumRectas;
    private javax.swing.JLabel jLabelCircuitoRectas;
    private javax.swing.JLabel jLblAgresividad;
    private javax.swing.JLabel jLblPaciencia;
    private javax.swing.JLabel jLblReflejos;
    private javax.swing.JLabel jLblValentia;
    private javax.swing.JPanel jPanelAdminPilotos;
    private javax.swing.JPanel jPanelAdministrador;
    private javax.swing.JPanel jPanelAdministradorVerCircuitos;
    private javax.swing.JPanel jPanelAdministradorVerPilotos;
    private javax.swing.JPanel jPanelCrearCircuito;
    private javax.swing.JPanel jPanelCrearPiloto;
    private javax.swing.JPanel jPanelGestionCircuitos;
    private javax.swing.JPanel jPanelPrincipal;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JSlider jSlAgresividad;
    private javax.swing.JSlider jSlPaciencia;
    private javax.swing.JSlider jSlReflejos;
    private javax.swing.JSlider jSlValentia;
    private javax.swing.JTable jTbAdminVerCircuitos;
    private javax.swing.JTable jTbAdminVerPilotos;
    private javax.swing.JTabbedPane jTbAdministrador;
    private javax.swing.JTextField jTxtFieldCircuitoAforo;
    private javax.swing.JTextField jTxtFieldCircuitoCanon;
    private javax.swing.JTextField jTxtFieldCircuitoCurvas;
    private javax.swing.JTextField jTxtFieldCircuitoNombre;
    private javax.swing.JTextField jTxtFieldCircuitoNumCurvas;
    private javax.swing.JTextField jTxtFieldCircuitoNumRectas;
    private javax.swing.JTextField jTxtFieldCircuitoRectas;
    private javax.swing.JTextField jTxtFieldPilotoAltura;
    private javax.swing.JTextField jTxtFieldPilotoApellidos;
    private javax.swing.JTextField jTxtFieldPilotoEdad;
    private javax.swing.JTextField jTxtFieldPilotoNombre;
    private javax.swing.JTextField jTxtFieldPilotoPeso;
    // End of variables declaration//GEN-END:variables

    private static final String FICHERO_PILOTOS = "ficheros" + System.getProperty("file.separator") + "PilotosLibres.dat";
    private ArrayList <PilotoLibre> pilotosLibres = new ArrayList<>();
    private static final String FICHERO_CIRCUITOS = "ficheros" + System.getProperty("file.separator") + "Circuitos.dat";
    private ArrayList <Circuito> circuitos = new ArrayList<>();
    
    private void cargarDatos() throws ClassNotFoundException {
        cargarPilotosLibresDesdeFichero();
        cargarCircuitosDesdeFichero();
    }
    
        private void cargarCircuitosDesdeFichero() throws ClassNotFoundException {
        File fichero = new File(FICHERO_CIRCUITOS);
        try {
            FileInputStream fis = new FileInputStream(fichero);
            try {
                ObjectInputStream ois = new ObjectInputStream(fis);
                
                Circuito circuito = null;
                while ((circuito = (Circuito) ois.readObject()) != null) {
                    circuitos.add(circuito);
                }
                ois.close();
            } catch (IOException ex) {
                System.err.println(ex);
            }
            fis.close();
        } catch (IOException ex) {
            System.err.println(ex);
        }
    }
    
    
    
    private void cargarPilotosLibresDesdeFichero() throws ClassNotFoundException {
        File fichero = new File(FICHERO_PILOTOS);
        try {
            FileInputStream fis = new FileInputStream(fichero);
            try {
                ObjectInputStream ois = new ObjectInputStream(fis);
                
                PilotoLibre piloto = null;
                while ((piloto = (PilotoLibre) ois.readObject()) != null) {
                    pilotosLibres.add(piloto);
                }
                ois.close();
            } catch (IOException ex) {
                System.err.println(ex);
            }
            fis.close();
        } catch (IOException ex) {
            System.err.println(ex);
        }
    }
    
    private void guardarPilotosLibresHaciaFichero() throws IOException {
        File fichero = new File(FICHERO_PILOTOS);
        if(!fichero.exists()) {
            fichero.createNewFile();
        } 
        try {
            FileOutputStream out = new FileOutputStream(fichero);
            try {
                ObjectOutputStream so = new ObjectOutputStream(out);
                Iterator<PilotoLibre> pilotos = pilotosLibres.iterator();
                while (pilotos.hasNext()) {
                    PilotoLibre piloto = pilotos.next();
                    so.writeObject(piloto);
                }
                so.close();
            } catch (IOException ex) {
                System.err.println(ex);
            }
            out.close();
        } catch (IOException ex) {
            System.err.println(ex);
        }
    }
    
    private void guardarCircuitosHaciaFichero() throws IOException {
        File fichero = new File(FICHERO_CIRCUITOS);
        if(!fichero.exists()) {
            fichero.createNewFile();
        } 
        try {
            FileOutputStream out = new FileOutputStream(fichero);
            try {
                ObjectOutputStream so = new ObjectOutputStream(out);
                Iterator<Circuito> it = circuitos.iterator();
                while (it.hasNext()) {
                    Circuito circuito = it.next();
                    so.writeObject(circuito);
                }
                so.close();
            } catch (IOException ex) {
                System.err.println(ex);
            }
            out.close();
        } catch (IOException ex) {
            System.err.println(ex);
        }
    }
    
    private void marcarComoErroneo(JTextField field) {
        field.setBackground(Color.red);
    }

    private void cargarPilotosLibresEnTabla(JTable tabla) {
        Iterator<PilotoLibre> pilotos = pilotosLibres.iterator();
        DefaultTableModel modelo = (DefaultTableModel) tabla.getModel();
        limpiarTabla(modelo);        
        while (pilotos.hasNext()) {
            PilotoLibre piloto = pilotos.next();
            Object[] fila = new Object[]{piloto.getNombreCompleto(), piloto.getValoraci√≥nGlobal()};
            modelo.addRow(fila);
        }
    }
    
    private void cargarCircuitosEnTabla(JTable tabla){
        Iterator<Circuito> it = circuitos.iterator();
        DefaultTableModel modelo = (DefaultTableModel) tabla.getModel();
        limpiarTabla(modelo);        
        while (it.hasNext()) {
            Circuito circuito = it.next();
            Object[] fila = new Object[]{circuito.getNombre(), circuito.getAforo(), circuito.getCanon(),circuito.getRectas(),circuito.getCurvas()};
            modelo.addRow(fila);
        }
    }

    private void guardarDatosAdministrador() throws IOException {
        guardarPilotosLibresHaciaFichero();
        guardarCircuitosHaciaFichero();
    }

    private void limpiarTabla(DefaultTableModel modelo) {
        int cantidadFilas = modelo.getRowCount();
        for (int i = cantidadFilas - 1; i >= 0; i--) {
            modelo.removeRow(i);
        }
    }

    private void ponerValorEnEtiquetaSlider(JSlider slider, JLabel label) {
        Double valor = slider.getValue() * 0.01;
        DecimalFormat df = new DecimalFormat("#.##");
        label.setText(df.format(valor));
    }

    private void limpiarFormularioNuevoPiloto() {
        this.jTxtFieldPilotoNombre.setText("");
        this.jTxtFieldPilotoApellidos.setText("");
        this.jTxtFieldPilotoEdad.setText("");
        this.jTxtFieldPilotoAltura.setText("");
        this.jTxtFieldPilotoPeso.setText("");
        this.jSlAgresividad.setValue(0);
        this.jSlPaciencia.setValue(0);
        this.jSlReflejos.setValue(0);
        this.jSlValentia.setValue(0);
    }
    
    private void limpiarFormularioNuevoCircuito(){
        this.jTxtFieldCircuitoNombre.setText("");
        this.jTxtFieldCircuitoAforo.setText("");
        this.jTxtFieldCircuitoCanon.setText("");
        this.jTxtFieldCircuitoRectas.setText("");
        this.jTxtFieldCircuitoCurvas.setText("");
    }

    private Boolean validarFormularioNuevoPiloto() {
        Boolean correcto = true;
        if (!this.jTxtFieldPilotoNombre.getInputVerifier().verify(this.jTxtFieldPilotoNombre)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldPilotoNombre);
        }
        if (!this.jTxtFieldPilotoApellidos.getInputVerifier().verify(this.jTxtFieldPilotoApellidos)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldPilotoApellidos);
        }
        if (!this.jTxtFieldPilotoEdad.getInputVerifier().verify(this.jTxtFieldPilotoEdad)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldPilotoEdad);
        }
        if (!this.jTxtFieldPilotoAltura.getInputVerifier().verify(this.jTxtFieldPilotoAltura)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldPilotoAltura);
        }
        if (!this.jTxtFieldPilotoPeso.getInputVerifier().verify(this.jTxtFieldPilotoPeso)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldPilotoPeso);
        }
        return correcto;
    }
    
        private Boolean validarFormularioNuevoCircuito() {
        Boolean correcto = true;
        if (!this.jTxtFieldCircuitoNombre.getInputVerifier().verify(this.jTxtFieldCircuitoNombre)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldCircuitoNombre);
        }
        if (!this.jTxtFieldCircuitoAforo.getInputVerifier().verify(this.jTxtFieldCircuitoAforo)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldCircuitoAforo);
        }
        if (!this.jTxtFieldCircuitoCanon.getInputVerifier().verify(this.jTxtFieldCircuitoCanon)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldCircuitoCanon);
        }
        if (!this.jTxtFieldCircuitoRectas.getInputVerifier().verify(this.jTxtFieldCircuitoRectas)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldCircuitoRectas);
        }
        if (!this.jTxtFieldCircuitoCurvas.getInputVerifier().verify(this.jTxtFieldCircuitoCurvas)) {
            correcto = false;
            marcarComoErroneo(this.jTxtFieldCircuitoCurvas);
        }
        return correcto;
    }

    private void marcarComoValido(FocusEvent evt) {
        evt.getComponent().setBackground(Color.white);
    }

    private void editarPiloto(PilotoLibre piloto) {
        mostarPanelEditarPiloto();
        colocarDatosPilotoEnFormulario(piloto);
    }

    private void mostarPanelEditarPiloto() {
        this.jPanelAdministradorVerPilotos.setVisible(false);
        this.jPanelCrearPiloto.setVisible(true);
    }

    private void colocarDatosPilotoEnFormulario(PilotoLibre piloto) {
        this.jTxtFieldPilotoNombre.setText(piloto.getNombre());
        this.jTxtFieldPilotoApellidos.setText(piloto.getApellidos());
        this.jTxtFieldPilotoAltura.setText(piloto.getAltura().toString());
        this.jTxtFieldPilotoPeso.setText(piloto.getPeso().toString());
        this.jTxtFieldPilotoEdad.setText(piloto.getEdad().toString());
        Double reflejos = piloto.getReflejos() * 100;
        this.jSlReflejos.setValue(reflejos.intValue());
        Double agresividad = piloto.getAgresividad() * 100;
        this.jSlAgresividad.setValue(agresividad.intValue());
        Double paciencia = piloto.getPaciencia() * 100;
        this.jSlPaciencia.setValue(paciencia.intValue());
        Double valentia = piloto.getValentia()* 100;
        this.jSlValentia.setValue(valentia.intValue());
    }
    
    private void crearCircuito() {
        Boolean correcto = validarFormularioNuevoCircuito();
        if (correcto) {
            Circuito circuito = obtenerCircuitoDesdeFormulario();
            circuitos.add(circuito);
            limpiarFormularioNuevoCircuito();
        } else {
            JOptionPane.showMessageDialog(this, "Hay campos con valores no v√°lidos", "Datosincorrectos", JOptionPane.ERROR_MESSAGE);
        }
    }

    private void crearPilotoLibre() {
        Boolean correcto = validarFormularioNuevoPiloto();
        if (correcto) {
            PilotoLibre piloto = obtenerPilotoLibreDesdeFormulario();
            pilotosLibres.add(piloto);
            limpiarFormularioNuevoPiloto();
        } else {
            JOptionPane.showMessageDialog(this, "Hay campos con valores no v√°lidos", "Datosincorrectos", JOptionPane.ERROR_MESSAGE);
        }
    }

    private void colocarCaracteristicasAleatoriasParaPiloto() {
        Double valorMaximo = PilotoLibre.VALOR_MAXIMO_CARACTERISTICAS;
        DecimalFormat df = new DecimalFormat("#.##");
        Double reflejos = Math.random() * valorMaximo * 100;
        this.jSlReflejos.setValue(reflejos.intValue());
        Double agresividad = Math.random() * valorMaximo * 100;
        this.jSlAgresividad.setValue(agresividad.intValue());
        Double paciencia = Math.random() * valorMaximo * 100;
        this.jSlPaciencia.setValue(paciencia.intValue());
        Double valentia = Math.random() * valorMaximo * 100;
        this.jSlValentia.setValue(valentia.intValue());
    }

    
    
    private void asignarEventosEnVentana() {
        this.addWindowListener(new WindowAdapter() {
            @Override
            public void windowClosing(WindowEvent evt) {
                try {
                    guardarDatosAdministrador();
                } catch (IOException ex) {
                    Logger.getLogger(VentanaPrincipal.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        });
    }

    private PilotoLibre obtenerPilotoLibreDesdeFormulario() {
        String nombre = this.jTxtFieldPilotoNombre.getText();
        String apellidos = this.jTxtFieldPilotoApellidos.getText();
        Integer edad = Integer.parseInt(this.jTxtFieldPilotoEdad.getText());
        Integer altura = Integer.parseInt(this.jTxtFieldPilotoAltura.getText());
        Integer peso = Integer.parseInt(this.jTxtFieldPilotoPeso.getText());
        Double reflejos = this.jSlReflejos.getValue() * 0.01;
        Double agresividad = this.jSlAgresividad.getValue() * 0.01;
        Double paciencia = this.jSlPaciencia.getValue() * 0.01;
        Double valentia = this.jSlValentia.getValue() * 0.01;

        PilotoLibre piloto = new PilotoLibre(nombre, apellidos, edad, altura, peso, reflejos, agresividad, paciencia, valentia);
        return piloto;
    }
    
    
    private Circuito obtenerCircuitoDesdeFormulario() {
        String nombre = this.jTxtFieldCircuitoNombre.getText();
        Integer aforo = Integer.parseInt(this.jTxtFieldCircuitoAforo.getText());
        Integer canon = Integer.parseInt(this.jTxtFieldCircuitoCanon.getText());
        Double[] rectas = {Double.parseDouble(this.jTxtFieldCircuitoRectas.getText())};
        Double[] curvas = {Double.parseDouble(this.jTxtFieldCircuitoCurvas.getText())};
        Circuito circuito = new Circuito(nombre, aforo, canon, rectas, curvas);
        return circuito;

    }

    
}
